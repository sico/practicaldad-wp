!function(a,b){"use strict";a(document).ready(function(){var c;a(document).on("click",".superpack__media-select",function(d){d.preventDefault();var e=a(this).data("button-text")?a(this).data("button-text"):"Select",f=a(this).data("title")?a(this).data("title"):"",g=a(this).data("filter")?a(this).data("filter"):"",h=a(this).data("multiple")?!0:!1,i=a(this).parents(".superpack__uploader"),j=function(a){var b="";return _.each(a,function(a){"image"===g&&(b+="<img ",b+=' src="'+a.url+'" ',b+=h?' width="106" ':"",b+=">")}),b};"undefined"!=typeof c&&c.close(),c=b.media.frames.media_frame=b.media({title:f,button:{text:e},library:{type:g},multiple:h}),c.on("open",function(){var a,d=c.state().get("selection"),e=i.find("input").val();e&&(e=e.split(","),e.forEach(function(c){a=b.media.attachment(c),d.add(a?[a]:[])}))}),c.on("select",function(){var a=c.state().get("selection"),b=[],d=[];a.map(function(a){a=a.toJSON(),d.push(a),b.push(a.id)}),i.find(".image-preview").html(j(d)),i.find(".superpack__media-clear").show(),i.find("input").val(b),i.find("input").trigger("change")}),c.open()}),a(document).on("click",".superpack__media-clear",function(){var b=a(this).parents(".superpack__uploader");b.find("input").val(""),b.find("input").change(),b.find(".image-preview").html(""),a(this).hide()})})}(jQuery,wp);